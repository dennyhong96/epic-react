{"version":3,"sources":["../node_modules/@mdx-js/react/dist/esm.js","exercise/02.md"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","call","MDXContext","React","createContext","useMDXComponents","components","contextComponents","useContext","allComponents","DEFAULTS","inlineCode","wrapper","_ref","children","createElement","Fragment","MDXCreateElement","forwardRef","props","ref","propComponents","mdxType","originalType","parentName","etc","type","Component","concat","args","argsLength","createElementArgArray","Array","newProps","hasOwnProperty","displayName","readingTime","layoutProps","MDXContent","isMDXComponent","tableOfContents","id","level","title","frontMatter"],"mappings":"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","file":"static/js/38.356bfffd.chunk.js","sourcesContent":["import React from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === 'function';\n};\n\nvar MDXContext = /*#__PURE__*/React.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = React.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/React.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = 'mdxType';\nvar DEFAULTS = {\n  inlineCode: 'code',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/React.createElement(React.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, [\"components\", \"mdxType\", \"originalType\", \"parentName\"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components[\"\".concat(parentName, \".\").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/React.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = 'MDXCreateElement';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === 'string' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === 'string' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return React.createElement.apply(null, createElementArgArray);\n  }\n\n  return React.createElement.apply(null, args);\n}\n\nexport { MDXContext, MDXProvider, createElement as mdx, useMDXComponents, withMDXComponents };\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\nexport const readingTime = {\"text\":\"4 min read\",\"minutes\":3.3,\"time\":198000,\"words\":660}\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\n\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"useeffect-persistent-state\"\n    }}>{`useEffect: persistent state`}</h1>\n    <h2 {...{\n      \"id\": \"-your-notes\"\n    }}>{`üìù Your Notes`}</h2>\n    <p>{`Elaborate on your learnings here in `}<inlineCode parentName=\"p\">{`src/exercise/02.md`}</inlineCode></p>\n    <h2 {...{\n      \"id\": \"background\"\n    }}>{`Background`}</h2>\n    <p><inlineCode parentName=\"p\">{`React.useEffect`}</inlineCode>{` is a built-in hook that allows you to run some custom code\nafter React renders (and re-renders) your component to the DOM. It accepts a\ncallback function which React will call after the DOM has been updated:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\",\n        \"data-language\": \"javascript\",\n        \"data-highlighted-line-numbers\": \"\",\n        \"dangerouslySetInnerHTML\": {\n          \"__html\": \"React<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">useEffect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// your side-effect code here.</span>\\n  <span class=\\\"token comment\\\">// this is where you can make HTTP requests or interact with browser APIs.</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\"\n        }\n      }}></code></pre>\n    <p>{`Feel free to take a look at `}<inlineCode parentName=\"p\">{`src/examples/hook-flow.png`}</inlineCode>{` if you‚Äôre interested in\nthe timing of when your functions are run. This will make more sense after\nfinishing the exercises/extra credit/instruction.`}</p>\n    <h2 {...{\n      \"id\": \"exercise\"\n    }}>{`Exercise`}</h2>\n    <p>{`Production deploys:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://react-hooks.netlify.app/isolated/exercise/02.js\"\n        }}>{`Exercise`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://react-hooks.netlify.app/isolated/final/02.js\"\n        }}>{`Final`}</a></li>\n    </ul>\n    <p>{`In this exercise, we‚Äôre going to enhance our `}<inlineCode parentName=\"p\">{`<Greeting />`}</inlineCode>{` component to get its\ninitial state value from localStorage (if available) and keep localStorage\nupdated as the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` is updated.`}</p>\n    <h2 {...{\n      \"id\": \"extra-credit\"\n    }}>{`Extra Credit`}</h2>\n    <h3 {...{\n      \"id\": \"1--lazy-state-initialization\"\n    }}>{`1. üíØ lazy state initialization`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://react-hooks.netlify.app/isolated/final/02.extra-1.js\"\n      }}>{`Production deploy`}</a></p>\n    <p>{`Right now, every time our component function is run, our function reads from\nlocalStorage. This is problematic because it could be a performance bottleneck\n(reading from localStorage can be slow). And what‚Äôs more we only actually need\nto know the value from localStorage the first time this component is rendered!\nSo the additional reads are wasted effort.`}</p>\n    <p>{`To avoid this problem, React‚Äôs useState hook allows you to pass a function\ninstead of the actual value, and then it will only call that function to get the\nstate value when the component is rendered the first time. So you can go from\nthis: `}<inlineCode parentName=\"p\">{`React.useState(someExpensiveComputation())`}</inlineCode>{` To this:\n`}<inlineCode parentName=\"p\">{`React.useState(() => someExpensiveComputation())`}</inlineCode></p>\n    <p>{`And the `}<inlineCode parentName=\"p\">{`someExpensiveComputation`}</inlineCode>{` function will only be called when it‚Äôs\nneeded!`}</p>\n    <p>{`Make the `}<inlineCode parentName=\"p\">{`React.useState`}</inlineCode>{` call use lazy initialization to avoid a performance\nbottleneck of reading into localStorage on every render.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Learn more about\n`}<a parentName=\"p\" {...{\n          \"href\": \"https://kentcdodds.com/blog/use-state-lazy-initialization-and-function-updates\"\n        }}>{`lazy state initialization`}</a></p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"2--effect-dependencies\"\n    }}>{`2. üíØ effect dependencies`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://react-hooks.netlify.app/isolated/final/02.extra-2.js\"\n      }}>{`Production deploy`}</a></p>\n    <p>{`The callback we‚Äôre passing to `}<inlineCode parentName=\"p\">{`React.useEffect`}</inlineCode>{` is called after `}<em parentName=\"p\">{`every`}</em>{` render\nof our component (including re-renders). This is exactly what we want because we\nwant to make sure that the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` is saved into localStorage whenever it\nchanges, but there are various reasons a component can be re-rendered (for\nexample, when a parent component in the application tree gets re-rendered).`}</p>\n    <p>{`Really, we `}<em parentName=\"p\">{`only`}</em>{` want localStorage to get updated when the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` state\nactually changes. It doesn‚Äôt need to re-run any other time. Luckily for us,\n`}<inlineCode parentName=\"p\">{`React.useEffect`}</inlineCode>{` allows you to pass a second argument called the \"dependency\narray\" which signals to React that your effect callback function should be\ncalled when (and only when) those dependencies change. So we can use this to\navoid doing unnecessary work!`}</p>\n    <p>{`Add a dependencies array for `}<inlineCode parentName=\"p\">{`React.useEffect`}</inlineCode>{` to avoid the callback being\ncalled too frequently.`}</p>\n    <h3 {...{\n      \"id\": \"3--custom-hook\"\n    }}>{`3. üíØ custom hook`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://react-hooks.netlify.app/isolated/final/02.extra-3.js\"\n      }}>{`Production deploy`}</a></p>\n    <p>{`The best part of hooks is that if you find a bit of logic inside your component\nfunction that you think would be useful elsewhere, you can put that in another\nfunction and call it from the components that need it (just like regular\nJavaScript). These functions you create are called ‚Äúcustom hooks‚Äù.`}</p>\n    <p>{`Create a custom hook called `}<inlineCode parentName=\"p\">{`useLocalStorageState`}</inlineCode>{` for reusability of all this\nlogic.`}</p>\n    <h3 {...{\n      \"id\": \"4--flexible-localstorage-hook\"\n    }}>{`4. üíØ flexible localStorage hook`}</h3>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://react-hooks.netlify.app/isolated/final/02.extra-4.js\"\n      }}>{`Production deploy`}</a></p>\n    <p>{`Take your custom `}<inlineCode parentName=\"p\">{`useLocalStorageState`}</inlineCode>{` hook and make it generic enough to\nsupport any data type (remember, you have to serialize objects to strings‚Ä¶ use\n`}<inlineCode parentName=\"p\">{`JSON.stringify`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`JSON.parse`}</inlineCode>{`). Go wild with this!`}</p>\n    <h2 {...{\n      \"id\": \"notes\"\n    }}>{`Notes`}</h2>\n    <p>{`If you‚Äôd like to learn more about when different hooks are called and the order\nin which they‚Äôre called, then open up `}<inlineCode parentName=\"p\">{`src/examples/hook-flow.png`}</inlineCode>{` and\n`}<inlineCode parentName=\"p\">{`src/examples/hook-flow.js`}</inlineCode>{`. Play around with that a bit and hopefully that will\nhelp solidify this for you. Note that understanding this isn‚Äôt absolutely\nnecessary for you to understand hooks, but it `}<em parentName=\"p\">{`will`}</em>{` help you in some situations\nso it‚Äôs useful to understand.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`PLEASE NOTE: there was a subtle change in the order of cleanup functions\ngetting called in React 17:\n`}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/kentcdodds/react-hooks/issues/90\"\n        }}>{`https://github.com/kentcdodds/react-hooks/issues/90`}</a></p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"-feedback\"\n    }}>{`ü¶â Feedback`}</h2>\n    <p>{`Fill out\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://ws.kcd.im/?ws=React%20Hooks%20%F0%9F%8E%A3&e=02%3A%20useEffect%3A%20persistent%20state&em=\"\n      }}>{`the feedback form`}</a>{`.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\nexport const tableOfContents = (components={}) => [\n  {\n    id: \"-your-notes\",\n    level: 2,\n    title: \"üìù Your Notes\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"background\",\n    level: 2,\n    title: \"Background\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"exercise\",\n    level: 2,\n    title: \"Exercise\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"extra-credit\",\n    level: 2,\n    title: \"Extra Credit\",\n    children: [\n        {\n              id: \"1--lazy-state-initialization\",\n              level: 3,\n              title: \"1. üíØ lazy state initialization\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"2--effect-dependencies\",\n              level: 3,\n              title: \"2. üíØ effect dependencies\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"3--custom-hook\",\n              level: 3,\n              title: \"3. üíØ custom hook\",\n              children: [\n                      \n                    ]\n            },\n      {\n              id: \"4--flexible-localstorage-hook\",\n              level: 3,\n              title: \"4. üíØ flexible localStorage hook\",\n              children: [\n                      \n                    ]\n            }\n      ]\n  },\n{\n    id: \"notes\",\n    level: 2,\n    title: \"Notes\",\n    children: [\n        \n      ]\n  },\n{\n    id: \"-feedback\",\n    level: 2,\n    title: \"ü¶â Feedback\",\n    children: [\n        \n      ]\n  }\n]\n\nexport const frontMatter = {}\n\n"],"sourceRoot":""}