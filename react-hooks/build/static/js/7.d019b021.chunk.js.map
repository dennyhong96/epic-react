{"version":3,"sources":["../node_modules/react/jsx-runtime.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","pokemon.js","exercise/06.js"],"names":["module","exports","require","f","g","Fragment","Symbol","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","Object","prototype","hasOwnProperty","p","key","ref","__self","__source","q","c","a","k","b","d","e","l","call","defaultProps","$$typeof","type","props","_owner","current","jsx","jsxs","formatDate","date","getHours","String","getMinutes","padStart","getSeconds","getMilliseconds","fetchPokemon","name","delay","pokemonQuery","window","fetch","method","headers","body","JSON","stringify","query","variables","toLowerCase","then","response","json","data","ok","pokemon","fetchedAt","Date","Promise","reject","Error","error","message","errors","map","join","PokemonInfoFallback","fallbackPokemonData","React","number","image","attacks","special","damage","PokemonDataView","className","src","alt","attack","PokemonForm","externalPokemonName","pokemonName","initialPokemonName","onSubmit","setPokemonName","handleSelect","newPokemonName","preventDefault","htmlFor","onClick","id","placeholder","value","onChange","target","disabled","length","PokemonInfo","App"],"mappings":"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","file":"static/js/7.d019b021.chunk.js","sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","import * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\n\nconst formatDate = date =>\n  `${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')} ${String(\n    date.getSeconds(),\n  ).padStart(2, '0')}.${String(date.getMilliseconds()).padStart(3, '0')}`\n\n// the delay argument is for faking things out a bit\nfunction fetchPokemon(name, delay = 1500) {\n  const pokemonQuery = `\n    query PokemonInfo($name: String) {\n      pokemon(name: $name) {\n        id\n        number\n        name\n        image\n        attacks {\n          special {\n            name\n            type\n            damage\n          }\n        }\n      }\n    }\n  `\n\n  return window\n    .fetch('https://graphql-pokemon2.vercel.app/', {\n      // learn more about this API here: https://graphql-pokemon2.vercel.app/\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json;charset=UTF-8',\n        delay: delay,\n      },\n      body: JSON.stringify({\n        query: pokemonQuery,\n        variables: {name: name.toLowerCase()},\n      }),\n    })\n    .then(async response => {\n      const {data} = await response.json()\n      if (response.ok) {\n        const pokemon = data?.pokemon\n        if (pokemon) {\n          pokemon.fetchedAt = formatDate(new Date())\n          return pokemon\n        } else {\n          return Promise.reject(new Error(`No pokemon with the name \"${name}\"`))\n        }\n      } else {\n        // handle the graphql errors\n        const error = {\n          message: data?.errors?.map(e => e.message).join('\\n'),\n        }\n        return Promise.reject(error)\n      }\n    })\n}\n\nfunction PokemonInfoFallback({name}) {\n  const initialName = React.useRef(name).current\n  const fallbackPokemonData = {\n    name: initialName,\n    number: 'XXX',\n    image: '/img/pokemon/fallback-pokemon.jpg',\n    attacks: {\n      special: [\n        {name: 'Loading Attack 1', type: 'Type', damage: 'XX'},\n        {name: 'Loading Attack 2', type: 'Type', damage: 'XX'},\n      ],\n    },\n    fetchedAt: 'loading...',\n  }\n  return <PokemonDataView pokemon={fallbackPokemonData} />\n}\n\nfunction PokemonDataView({pokemon}) {\n  return (\n    <div>\n      <div className=\"pokemon-info__img-wrapper\">\n        <img src={pokemon.image} alt={pokemon.name} />\n      </div>\n      <section>\n        <h2>\n          {pokemon.name}\n          <sup>{pokemon.number}</sup>\n        </h2>\n      </section>\n      <section>\n        <ul>\n          {pokemon.attacks.special.map(attack => (\n            <li key={attack.name}>\n              <label>{attack.name}</label>:{' '}\n              <span>\n                {attack.damage} <small>({attack.type})</small>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </section>\n      <small className=\"pokemon-info__fetch-time\">{pokemon.fetchedAt}</small>\n    </div>\n  )\n}\n\nfunction PokemonForm({\n  pokemonName: externalPokemonName,\n  initialPokemonName = externalPokemonName || '',\n  onSubmit,\n}) {\n  const [pokemonName, setPokemonName] = React.useState(initialPokemonName)\n\n  // this is generally not a great idea. We're synchronizing state when it is\n  // normally better to derive it https://kentcdodds.com/blog/dont-sync-state-derive-it\n  // however, we're doing things this way to make it easier for the exercises\n  // to not have to worry about the logic for this PokemonForm component.\n  React.useEffect(() => {\n    // note that because it's a string value, if the externalPokemonName\n    // is the same as the one we're managing, this will not trigger a re-render\n    if (typeof externalPokemonName === 'string') {\n      setPokemonName(externalPokemonName)\n    }\n  }, [externalPokemonName])\n\n  function handleChange(e) {\n    setPokemonName(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onSubmit(pokemonName)\n  }\n\n  function handleSelect(newPokemonName) {\n    setPokemonName(newPokemonName)\n    onSubmit(newPokemonName)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"pokemon-form\">\n      <label htmlFor=\"pokemonName-input\">Pokemon Name</label>\n      <small>\n        Try{' '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('pikachu')}\n        >\n          \"pikachu\"\n        </button>\n        {', '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('charizard')}\n        >\n          \"charizard\"\n        </button>\n        {', or '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('mew')}\n        >\n          \"mew\"\n        </button>\n      </small>\n      <div>\n        <input\n          className=\"pokemonName-input\"\n          id=\"pokemonName-input\"\n          name=\"pokemonName\"\n          placeholder=\"Pokemon Name...\"\n          value={pokemonName}\n          onChange={handleChange}\n        />\n        <button type=\"submit\" disabled={!pokemonName.length}>\n          Submit\n        </button>\n      </div>\n    </form>\n  )\n}\n\nfunction ErrorFallback({error, resetErrorBoundary}) {\n  return (\n    <div role=\"alert\">\n      There was an error:{' '}\n      <pre style={{whiteSpace: 'normal'}}>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  )\n}\n\nfunction PokemonErrorBoundary(props) {\n  return <ErrorBoundary FallbackComponent={ErrorFallback} {...props} />\n}\n\nexport {\n  PokemonInfoFallback,\n  PokemonForm,\n  PokemonDataView,\n  fetchPokemon,\n  PokemonErrorBoundary,\n}\n","// useEffect: HTTP requests\n// http://localhost:3000/isolated/exercise/06.js\n\nimport * as React from 'react'\n// üê® you'll want the following additional things from '../pokemon':\n// fetchPokemon: the function we call to get the pokemon info\n// PokemonInfoFallback: the thing we show while we're loading the pokemon info\n// PokemonDataView: the stuff we use to display the pokemon info\nimport {PokemonForm} from '../pokemon'\n\nfunction PokemonInfo({pokemonName}) {\n  // üê® Have state for the pokemon (null)\n  // üê® use React.useEffect where the callback should be called whenever the\n  // pokemon name changes.\n  // üí∞ DON'T FORGET THE DEPENDENCIES ARRAY!\n  // üí∞ if the pokemonName is falsy (an empty string) then don't bother making the request (exit early).\n  // üê® before calling `fetchPokemon`, clear the current pokemon state by setting it to null.\n  // (This is to enable the loading state when switching between different pokemon.)\n  // üí∞ Use the `fetchPokemon` function to fetch a pokemon by its name:\n  //   fetchPokemon('Pikachu').then(\n  //     pokemonData => {/* update all the state here */},\n  //   )\n  // üê® return the following things based on the `pokemon` state and `pokemonName` prop:\n  //   1. no pokemonName: 'Submit a pokemon'\n  //   2. pokemonName but no pokemon: <PokemonInfoFallback name={pokemonName} />\n  //   3. pokemon: <PokemonDataView pokemon={pokemon} />\n\n  // üí£ remove this\n  return 'TODO'\n}\n\nfunction App() {\n  const [pokemonName, setPokemonName] = React.useState('')\n\n  function handleSubmit(newPokemonName) {\n    setPokemonName(newPokemonName)\n  }\n\n  return (\n    <div className=\"pokemon-info-app\">\n      <PokemonForm pokemonName={pokemonName} onSubmit={handleSubmit} />\n      <hr />\n      <div className=\"pokemon-info\">\n        <PokemonInfo pokemonName={pokemonName} />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"],"sourceRoot":""}